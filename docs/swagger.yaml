basePath: /
definitions:
  whotterre_argent_internal_dto.BalanceResponse:
    properties:
      balance:
        type: number
    type: object
  whotterre_argent_internal_dto.CreateAPIKeyRequest:
    properties:
      expiry:
        type: string
      name:
        type: string
      permissions:
        items:
          type: string
        type: array
    type: object
  whotterre_argent_internal_dto.CreateAPIKeyResponse:
    properties:
      api_key:
        type: string
      expires_at:
        type: string
    type: object
  whotterre_argent_internal_dto.DepositStatusResponse:
    properties:
      amount:
        type: number
      reference:
        type: string
      status:
        type: string
    type: object
  whotterre_argent_internal_dto.DepositWalletRequest:
    properties:
      amount:
        type: number
    type: object
  whotterre_argent_internal_dto.DepositWalletResponse:
    properties:
      authorization_url:
        type: string
      reference:
        type: string
    type: object
  whotterre_argent_internal_dto.RolloverAPIKeyRequest:
    properties:
      expired_key_id:
        type: string
      expiry:
        type: string
    type: object
  whotterre_argent_internal_dto.RolloverAPIKeyResponse:
    properties:
      api_key:
        type: string
      expires_at:
        type: string
    type: object
  whotterre_argent_internal_dto.TransactionResponse:
    properties:
      amount:
        type: number
      status:
        type: string
      type:
        type: string
    type: object
  whotterre_argent_internal_dto.TransferRequest:
    properties:
      amount:
        type: number
      wallet_number:
        type: string
    type: object
  whotterre_argent_internal_dto.TransferResponse:
    properties:
      message:
        type: string
      status:
        type: string
    type: object
host: argentapi-production-119e.up.railway.app
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: A wallet API for managing deposits, transfers, and balances with Paystack
    integration.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Argent Wallet API
  version: "1.0"
paths:
  /auth/google:
    get:
      consumes:
      - application/json
      description: Redirects to Google for authentication
      produces:
      - application/json
      responses:
        "302":
          description: Redirect to Google
          schema:
            type: string
      summary: Initiate Google OAuth login
      tags:
      - auth
  /auth/google/callback:
    get:
      consumes:
      - application/json
      description: Processes the OAuth callback and returns JWT token
      produces:
      - application/json
      responses:
        "200":
          description: token
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Handle Google OAuth callback
      tags:
      - auth
  /keys/create:
    post:
      consumes:
      - application/json
      description: Generate a new API key with specified permissions and expiry
      parameters:
      - description: API key creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/whotterre_argent_internal_dto.CreateAPIKeyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: API key creation response
          schema:
            $ref: '#/definitions/whotterre_argent_internal_dto.CreateAPIKeyResponse'
        "400":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
        "412":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create a new API key
      tags:
      - api-keys
  /keys/rollover:
    post:
      consumes:
      - application/json
      description: Generate a new API key to replace an existing one
      parameters:
      - description: API key rollover request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/whotterre_argent_internal_dto.RolloverAPIKeyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: API key rollover response
          schema:
            $ref: '#/definitions/whotterre_argent_internal_dto.RolloverAPIKeyResponse'
        "400":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Rollover an existing API key
      tags:
      - api-keys
  /wallet/balance:
    get:
      consumes:
      - application/json
      description: Retrieve the current balance of the user's wallet
      produces:
      - application/json
      responses:
        "200":
          description: Wallet balance response
          schema:
            $ref: '#/definitions/whotterre_argent_internal_dto.BalanceResponse'
        "500":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get wallet balance
      tags:
      - wallet
  /wallet/deposit:
    post:
      consumes:
      - application/json
      description: Initiate a deposit transaction using Paystack
      parameters:
      - description: Deposit request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/whotterre_argent_internal_dto.DepositWalletRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Deposit response with reference and authorization URL
          schema:
            $ref: '#/definitions/whotterre_argent_internal_dto.DepositWalletResponse'
        "400":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Deposit money into wallet
      tags:
      - wallet
  /wallet/deposit/{reference}/status:
    get:
      consumes:
      - application/json
      description: Check the status of a deposit transaction by reference
      parameters:
      - description: Transaction reference
        in: path
        name: reference
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Deposit status response
          schema:
            $ref: '#/definitions/whotterre_argent_internal_dto.DepositStatusResponse'
        "404":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get deposit transaction status
      tags:
      - wallet
  /wallet/deposit/callback:
    get:
      consumes:
      - application/json
      description: Handle callback from Paystack after deposit payment
      parameters:
      - description: Transaction reference
        in: query
        name: reference
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Deposit status response
          schema:
            $ref: '#/definitions/whotterre_argent_internal_dto.DepositStatusResponse'
        "400":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Handle deposit callback
      tags:
      - wallet
  /wallet/paystack/webhook:
    post:
      consumes:
      - application/json
      description: Handle webhook notifications from Paystack for payment events
      parameters:
      - description: Paystack webhook signature
        in: header
        name: X-Paystack-Signature
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: status
          schema:
            additionalProperties:
              type: boolean
            type: object
        "400":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Process Paystack webhook
      tags:
      - wallet
  /wallet/transactions:
    get:
      consumes:
      - application/json
      description: Retrieve the user's transaction history
      produces:
      - application/json
      responses:
        "200":
          description: Array of transaction responses
          schema:
            items:
              $ref: '#/definitions/whotterre_argent_internal_dto.TransactionResponse'
            type: array
        "500":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get transaction history
      tags:
      - wallet
  /wallet/transfer:
    post:
      consumes:
      - application/json
      description: Transfer money from user's wallet to another wallet by wallet number
      parameters:
      - description: Transfer request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/whotterre_argent_internal_dto.TransferRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Transfer response
          schema:
            $ref: '#/definitions/whotterre_argent_internal_dto.TransferResponse'
        "400":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Transfer money to another wallet
      tags:
      - wallet
schemes:
- https
securityDefinitions:
  BearerAuth:
    description: 'Enter the token in the format: Bearer {token}'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
